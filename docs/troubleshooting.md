# Troubleshooting CI/CD Demo Project

## Назначение раздела

Данный раздел содержит описание типовых проблем,
которые могут возникать при разработке, CI/CD, деплое
и эксплуатации проекта, а также способы их решения.

Раздел предназначен для:

- разработчиков
- технических писателей
- DevOps-инженеров
- онбординга новых участников проекта

---

## Проблемы локальной разработки

### Backend не запускается локально

**Симптомы:**

- приложение не стартует
- ошибки импорта модулей
- отсутствуют зависимости

**Возможные причины:**

- не активировано виртуальное окружение
- не установлены зависимости
- используется неподдерживаемая версия Python

**Решение:**

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r backend/requirements.txt
python backend/app.py
```

Проверьте версию Python:

```bash
python --version
```

## Backend запускается, но API не отвечает

**Симптомы:**

- Connection refused

- 404 Not Found

**Возможные причины:**

- backend запущен на другом порту

- запрос идёт на неверный URL

**Решение:**

- убедиться, что backend слушает порт 10000

- проверить URL запроса

- проверить /health

## Проблемы frontend

Frontend не получает данные от backend

**Симптомы:**

- пустой результат

- ошибки в консоли браузера

- CORS errors

**Возможные причины:**

- неверный API URL

- backend недоступен

- отсутствует CORS-конфигурация

**Решение:**

- проверить значение REACT_APP_API_BASE

- убедиться, что backend запущен

- проверить CORS в backend

## Ошибка CORS в браузере

**Симптомы:**

- Blocked by CORS policy

**Причина:**

- Frontend и backend находятся на разных доменах.

**Решение:**

- включить CORS в backend

- проверить список разрешённых origin

## Проблемы CI/CD

CI падает на шаге pytest

**Симптомы:***

- тесты не проходят

- ModuleNotFoundError

**Возможные причины:**

- ошибки в коде

- неустановленные зависимости

- некорректный путь к тестам

**Решение:**

- проверить backend/tests

- запустить pytest локально

- проверить requirements.txt

## CI падает на шаге Docker build

**Симптомы:**

о- шибка сборки образа

- отсутствие файлов

**Возможные причины:**

- неправильный путь к Dockerfile

- неверный build context

**Решение:**

- проверить backend/Dockerfile

- убедиться, что контекст сборки — backend/

## CI падает на markdownlint

**Симптомы:**

- ошибки вида MD0xx

**Причина:**

Нарушение правил Markdown.

**Решение:**

- проверить заголовки

- проверить пустые строки

- убрать табы и лишние пробелы

- запустить markdownlint локально

## Проблемы деплоя в Render

Render не обновляет приложение

**Симптомы:**

- приложение работает со старой версией

- деплой не происходит

**Возможные причины:**

- CI не завершился успешно

- Docker-образ не опубликован

- Deploy Hook не вызван

**Решение:**

- проверить GitHub Actions

- проверить Docker Hub

- проверить Render Events

## Backend не стартует в Render

**Симптомы:**

- сервис в статусе Failed

- ошибки запуска

**Возможные причины:**

- неверная команда запуска

- ошибка в Gunicorn

- неправильный порт

**Решение:**

- проверить команду запуска в Dockerfile

- убедиться, что используется порт 10000

- проверить логи Render

## Проблемы документации

Документация не публикуется

**Симптомы:**

- GitHub Pages не обновляется

- сайт недоступен

**Возможные причины:**

- Docs CI не прошёл

- ошибки в Markdown

- ошибка сборки MkDocs

**Решение:**

- проверить Actions → Docs CI

- исправить ошибки markdownlint

- проверить mkdocs.yml

## Диагностика и отладка

Для диагностики рекомендуется:

- проверять GitHub Actions логи

- проверять Render Events и Logs

- проверять Docker Hub образы

- использовать healthcheck /health

## Роль документации

Раздел troubleshooting:

- снижает количество повторяющихся вопросов

- ускоряет отладку

- улучшает поддержку проекта

- является важной частью production-документации

Любая новая проблема и её решение должны быть добавлены в этот файл.
